<div class='row'>
  <div class='large-8 large-offset-2 columns panel'>
    <% if current_user.uid.blank? %>
      <h2>Edit <%= resource_name.to_s.humanize %></h2>

      <%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put }) do |f| %>

        <div><%= f.email_field :email, :autofocus => true %></div>

        <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
          <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
        <% end %>

        <div><%= f.text_field :name, label: 'Nome utente' %></div>

        <div>
          <%= f.password_field :password, :autocomplete => "off", label: 'Nuova password' %>
        </div>

        <div><%= f.password_field :password_confirmation, label: 'Conferma nuova password' %></div>

        <div class='row collapse'>
          <div class='small-9 columns'>
            <%= f.select :degree_id, options_for_select(Degree.all.map { |d| [d.full_name, d.id] }), label: 'Corso di laurea' %>
          </div>

          <div class='small-3 columns'>
            <%= f.select :degree_year, options_for_select((1..5).to_a), label: 'Anno' %>
          </div>
        </div>

        <div><%= f.password_field :current_password, label: 'Password attuale*' %></div>

        <div class='row collapse'>
          <div class='small-6 columns'><%= f.submit "Ok" %></div>
          <div class='small-6 columns text-right'>
            <%= link_to "Elimina account", registration_path(resource_name), :data => { :confirm => "Sei sicuro?" }, :method => :delete, class: 'button alert small' %></p>
          </div>
        </div>
      <% end %>
    <% else %>
      <h3 class='subheader'>Attualmente non Ã¨ possibile modificare i propri dati se loggati via Facebook, ci stiamo lavorando ;)</h3>
    <% end %>
  </div>
</div>
